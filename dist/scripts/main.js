var app=angular.module("galleryApp",["ngRoute"]).config(function(t){t.when("/",{templateUrl:"templates/albumList.html",controller:"AlbumListCtrl"}).when("/album/:albumName",{templateUrl:"templates/albumPage.html",controller:"AlbumCtrl"}).when("/album/:albumName/photo/:photoName",{templateUrl:"templates/photoPage.html",controller:"PhotoCtrl"}).when("/add",{templateUrl:"templates/addAlbum.html",controller:"addAlbumCtrl"}).otherwise({redirectTo:"/"})});app.factory("getData",function(t){var l=function(l,e){t.get(l).success(e)},e=function(t,e){l(t,e)},o=function(t){l("templates/newLine.html",t)},n=function(t,e,o){l(t,function(t){angular.forEach(t,function(t,l){t.title==e&&o(t)})})},a=function(t,e,o){l(t,function(t){angular.forEach(t,function(t,l){angular.forEach(t.pictures,function(t,l){t.title==e&&o(t)})})})};return{getNewLine:o,getPhoto:a,getAlbum:n,getAllAlbums:e}}),app.controller("AlbumListCtrl",function(t,l){l.getAllAlbums("json/gallery.json",function(l){t.albums=l})}),app.controller("AlbumCtrl",function(t,l,e){t.albumName=l.albumName,e.getAlbum("json/gallery.json",t.albumName,function(l){t.album=l})}),app.controller("addAlbumCtrl",function(t,l){var e=function(t){$("table").append(t)};t.obj={name:"",src_cover:"",pic:[]},t.add=function(){console.log(t.obj)},t.addNewPic=function(){l.getNewLine(e)}}),app.controller("PhotoCtrl",function(t,l,e){t.albumName=l.albumName,t.pic=l.photoName,e.getPhoto("json/gallery.json",t.pic,function(l){t.photo=l})});